<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="assets/kitchen_fusion-dkT2i0IF.svg" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kitchen Fusion</title>
    <link rel="stylesheet" href="assets/index-CHsR6AOX.css">
  </head>
  <body>
    <div id="shop_details" style="display: none;">{"shop_name":"Kitchen Fusion","shop_type":"Cafeteria","shop_location_link":"https://map.google.com/","shop_address":"Somewhere"}</div>
    <div id="catalogue_object" style="display: none;">{"aerated beverages":{"timing":"always","price_sub":"price","prices":["20","25","30","on MRP","on MRP"],"items":["tea","masala tea","coffee","water bottle","soft drinks"],"avl":["t","t","t","t","t"],"type":["v","v","v","v","v"],"desc":["","","","",""]},"mocktails":{"timing":"always","price_sub":"price","prices":["59","59","59","59","59","59","59","59","49","59","59","59"],"items":["virgin mojito","blue lagoon","kala khatta","masala coke","watermelon mojito","kiwi mojito","lemon ice tea","peach ice tea","fresh lime soda (mix/plain/sweet)","aam panna","amrud panna","banana shake"],"avl":["t","t","t","t","t","t","t","t","t","t","t","t"],"type":["v","v","v","v","v","v","v","v","v","v","v","v"],"desc":["","","","","","","","","","","",""]},"shakes":{"timing":"always","price_sub":"price","prices":["59","69","69","69","79","69","79","79","49"],"items":["cold coffee","chocolate shake","vanilla shake","strawberry shake","oreo shake","mango shake","kit-kat shake","dark chocolate shake","banana shake"],"avl":["t","t","t","t","t","t","t","t","t"],"type":["v","v","v","v","v","v","v","v","v"],"desc":["","","","","","","","",""]},"soup":{"timing":"always","price_sub":"price","prices":["99","99"],"items":["cream of tomato soup","chicken soup"],"avl":["t","t"],"type":["v","n"],"desc":["",""]},"salad":{"timing":"always","price_sub":"price","prices":["99","110","120","130"],"items":["exotic vegetable salad","egg salad","egg and mayo salad","chicken salad"],"avl":["t","t","t","t"],"type":["v","n","n","n"],"desc":["","","",""]},"omelette":{"timing":"always","price_sub":"price","prices":["99","110","120","130"],"items":["indian spice omelette","exotic vegetables omelette","bread omelette","chicken omelette"],"avl":["t","t","t","t"],"type":["n","n","n","n"],"desc":["","","",""]},"south indian cuisine":{"timing":"always","price_sub":"price","prices":["59","69","80","100","79","69","75","79","99","99","79","130","110","150","119","110","140","99","99","110","120"],"items":["Idli Sambar (2 pcs)","Vada Sambar (2 pcs)","fried idli","chilly idli","Masala Dosa","plain dosa","plain onion dosa","plain butter dosa","masala onion dosa","butter masala dosa","plain poddi dosa","paneer masala dosa","poddi masala dosa","kitchen fusion spl. dosa","mysore masala dosa","plain cheese dosa","masala cheese dosa","onion uttapam","tomato uttapam","onion tomato uttapam","mix veg uttapam"],"avl":["t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t"],"type":["v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v","v"],"desc":["","","","","","","","","","","","","","","","","","","","",""]},"garlic bread (3pcs)":{"timing":"always","price_sub":"price","prices":["59","79","89","89","99","99","89"],"items":["Garlic Bread","cheese garlic bread","cheese chilly garlic bread","tandoori cheese garlic bread","chicken cheese garlic bread","chicken tikka garlic bread","chicken garlic bread"],"avl":["t","t","t","t","t","t","t"],"type":["v","v","v","v","n","n","n"],"desc":["","","","","","",""]},"burgers":{"timing":"always","price_sub":"price","prices":["49","70","80","99","115","115","120"],"items":["Aaloo Tikki Burger","Veg Tikki Burger + Fries","Cheese Veg Burger + Fries","Paneer Tikka Burger + Fries","Cripsy Chicken Burger + Fries","Grilled Chicken Burger + Fries","Tandoori Chicken Burger + Fries"],"avl":["t","t","t","t","t","t","t"],"type":["v","v","v","v","n","n","n"],"desc":["","","","","","",""]},"pasta":{"timing":"always","price_sub":"price","prices":["129","150","129","150","139","170","149","179","169","210"],"items":["pasta in alfredo sauce white sauce","Chicken pasta in alfredo sauce white sauce","Pasta in arabbiata sauce red sauce","Chicken Pasta in arabbiata sauce red sauce","Pasta in mix sauce","Chicken pasta in mix sauce","Mamma's secret pasta","Mamma's secret chicken pasta","Spaghetti Aglio E Olio","Spaghetti with chicken aglio e olio"],"avl":["t","t","t","t","t","t","t","t","t","t"],"type":["v","n","v","n","v","n","v","n","v","n"],"desc":["","","","","","","","","",""]},"maggi":{"timing":"always","price_sub":"price","prices":["60","80","90","110","110","120","130"],"items":["plain maggi","masala maggi","vegetable maggi","masala cheese maggi","chicken maggi","chicken masala maggi","cheese chicken maggi"],"avl":["t","t","t","t","t","t","t"],"type":["v","v","v","v","n","n","n"],"desc":["","","","","","",""]},"nuggets":{"timing":"always","price_sub":"price","prices":["59","59","100","110"],"items":["Veg nugget","cheese balls nugget","chicken nuggets","chicken fingers"],"avl":["t","t","t","t"],"type":["v","v","n","n"],"desc":["","","",""]},"fries":{"timing":"always","price_sub":"price","prices":["69","99","79","89"],"items":["french fries","cheese & jalapenos fries","peri peri french fries","cheesy fries"],"avl":["t","t","t","t"],"type":["v","v","v","v"],"desc":["","","",""]},"sandwiches":{"timing":"always","price_sub":"price","prices":["80","80","90","90","100","125","125","125","125"],"items":["classic veg grilled","bombay masala grilled","classic cheese grilled","corn & cheese grilled","paneer spicy grilled","classic chicken grilled","egg and mayo grilled","chicken and mayo grilled","chicken tikka grilled"],"avl":["t","t","t","t","t","t","t","t","t"],"type":["v","v","v","v","v","n","n","n","n"],"desc":["","","","","","","","",""]},"pizza":{"timing":"always","price_sub":["Small","Medium","Large"],"prices":[["99","139","199"],["99","139","199"],["99","139","199"],["99","139","199"],["99","139","199"],["129","239","299"],["149","190","249"],["149","190","249"],["159","219","299"],["159","219","299"],["159","219","299"],["179","229","319"],["159","219","299"],["159","219","299"],["159","219","299"],["159","219","299"],["179","229","319"],["179","229","319"],["189","219","299"],["199","239","339"]],"items":["corn & cheese pizza","onion & capsicum pizza","Classic Margherita pizza","capsicum pizza","onion pizza","double cheese margherita pizza","corn cheese & paneer pizza","veg overload pizza","farmhouse harvest pizza","garden delight pizza","paneer tikka pizza","mushroom overload pizza","chicken tikka pizza","onion & chicken pizza","chicken delight pizza","pepper & chicken pizza","overloaded chicken pizza","BBQ chicken pizza","chicken do pyaza pizza","chicken & mushroom pizza"],"avl":["t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t","t"],"type":["v","v","v","v","v","v","v","v","v","v","v","v","n","n","n","n","n","n","n","n"],"desc":["","","","","","","","","","","","","","","","","","","",""]}}</div>

    <div id="menu" style="padding: 4px;"></div>
    

    <script>

      function toTitleCase(str) {
        return str.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
      }

      document.addEventListener('DOMContentLoaded', (event) => {
        let shop_details = JSON.parse(document.querySelector('#shop_details').textContent);
        let catalogue_object = JSON.parse(document.querySelector('#catalogue_object').textContent);

        // create headbar

        let headbar = document.createElement('div');
        headbar.classList.add('headbar');
        headbar.innerHTML = `
          <h1>${shop_details.shop_name}</h1>
          <h3 style="color: black;">${shop_details.shop_type}</h3>
        
        `;

        menu.append(headbar);

        let pagetitle = document.createElement('div');
        pagetitle.classList.add('pagetitle');
        pagetitle.textContent = "MENU";

        menu.append(pagetitle);

        Object.keys(catalogue_object).forEach(element => {
          let p = document.createElement('p');
          p.classList.add('categoryrow');
          p.textContent = element.toUpperCase()
          menu.append(p);

          let table = document.createElement('table');
          let thead = document.createElement('thead');
          let tbody = document.createElement('tbody');


          if (typeof catalogue_object[element]['price_sub'] === 'string') {

            
            // setting the table headers in thead
            thead.innerHTML = `<tr><th class='tableheading'>Items</th><th class='tableheading'>Price</th></tr>`;

            // setting the items and price in tbody
            let num = catalogue_object[element]['items'].length
            for (let i=0; i<num; i++){
            
              let tr = document.createElement('tr');
              let color = catalogue_object[element]['type'][i] == "n" ? 'red' : 'green';
              tr.innerHTML = `<td class="item-name" style="color: ${color}">${toTitleCase(catalogue_object[element]['items'][i])}</td><td>&#8377; ${catalogue_object[element]['prices'][i]}</td>`;
              tbody.append(tr);
            }  


          }
          else if (typeof catalogue_object[element]['price_sub'] === 'object') {

            // setting the table header
            let subcategories = catalogue_object[element]['price_sub'];
            thead.innerHTML = `
              <tr><th class='tableheading' rowspan='2'>Items</th><th class='tableheading' colspan=${subcategories.length} style="text-align: center;">Price</th></tr>
            `;

            // setting the table price subcategory header
            let tr = document.createElement('tr')
            subcategories.forEach(elem=>{
              let th = document.createElement('th');
              th.classList.add('tableheading');
              th.textContent = toTitleCase(elem);
              tr.append(th);
            })
            thead.append(tr);

            // setting the items and price in body with price subcategory.
            let num = catalogue_object[element]['items'].length
            for (let i=0; i<num; i++) {

              let tr = document.createElement('tr');
              let color = catalogue_object[element]['type'][i] == "n" ? 'red' : 'green';
              tr.innerHTML = `<td class="item-name" style="color: ${color}">${toTitleCase(catalogue_object[element]['items'][i])}</td>`;
              
              let pricesubcategories = catalogue_object[element]['prices'][i];
              
              pricesubcategories.forEach(sub => {
                
                let td = document.createElement('td');
                td.innerHTML = `&#8377; ${sub}`;
                tr.append(td);
              })

              tbody.append(tr);
            };
            
          }
          else {}

          
          let tfoot = document.createElement('tfoot');


          table.append(thead, tbody, tfoot);
          menu.append(table);
        });






      })
      
      



    </script>
  </body>
</html>
